### [return main page](../README.md)

### DATA_MODELING.md
Почему наличие хорошей стратегии моделирования данных необходимо с самого начала вашего проекта? Любому современному приложению для работы нужны данные, но то, как вы моделируете свои данные, сильно повлияет на производительность вашего приложения, а также на скорость разработки. В этой статье вы узнаете, что такое моделирование данных, зачем оно вам нужно, а также некоторые эффективные методы моделирования данных, которые можно использовать с MongoDB.

### Что такое моделирование данных?
Моделирование данных — это процесс создания чистой модели данных того, как вы будете хранить данные в базе данных. Модели данных также описывают, как связаны данные. Цель моделирования данных состоит в том, чтобы определить все компоненты данных системы, как они связаны и как лучше всего представить эти отношения.

Моделирование данных выполняется на уровне приложения. Модели данных состоят из следующих компонентов:
* `Сущность` — самостоятельный объект, который также является логическим компонентом системы. Объекты можно разделить на материальные и нематериальные. Осязаемые объекты, такие как книги, существуют в реальном мире, в то время как нематериальные объекты, такие как книги взаймы, не имеют физической формы. В базах данных документов каждый документ является сущностью. В табличных базах данных каждая строка представляет собой сущность.
* `Типы сущностей` - категории, используемые для группировки сущностей. Например, сущность книги с названием «Алиса в стране чудес» относится к типу сущности «книга».
* `Атрибуты` - характеристики объекта. Например, сущность «книга» имеет атрибуты ISBN (строка) и название (строка).
* `Отношения` -  определяют связи между объектами. Например, один пользователь может брать много книг одновременно. Связь между сущностями «пользователи» и «книги» — один ко многим.

Хотя MongoDB имеет гибкую схему , вам потребуется моделирование данных или разработка схемы. Хорошая модель данных означает, что вы создадите прочную основу для постоянно развивающейся модели данных, которая будет адаптироваться по мере изменения ваших требований. Создавая надежную модель данных с самого начала, вы можете быть уверены, что ваше приложение будет работать лучше и будет более перспективным.

MongoDB поддерживает несколько способов моделирования отношений между сущностями:
* Один к одному (1-1) : в этом типе одно значение связано только с одним документом, например с ISBN книги. Каждая книга может иметь только один ISBN.
* Один ко многим (1-N) : здесь одно значение может быть связано с более чем одним документом или значением. Например, пользователь может брать более одной книги одновременно.
* Многие ко многим (NN) : в этом типе модели несколько документов могут быть связаны друг с другом. Например, у книги может быть много авторов, и один автор может написать много разных книг. Отношения между автором и книгой много ко многим.

![image](../images/mongodb_modeling_data.png)

### В чем преимущества моделирования данных
У моделирования данных есть несколько преимуществ:
* Обеспечивает лучшее планирование, проектирование и внедрение базы данных, что приводит к повышению производительности приложений.
* Способствует более быстрой разработке приложений за счет упрощения сопоставления объектов.
* Лучшее обнаружение, стандартизация и документирование нескольких источников данных.
* Позволяет организациям думать о долгосрочных решениях и моделировать данные с учетом не только текущих проектов, но и будущих требований приложения.

### Для чего используются модели данных?
Модель данных предоставляет вам основу для структуры данных вашего приложения. Создание модели данных может помочь вам определить бизнес-правила, которым должно следовать ваше приложение. Модель данных также предоставит вашей команде разработчиков непротиворечивую карту данных, используемых разрабатываемым приложением.

Заранее продумав, как вы будете получать доступ к информации из приложения, вы сможете лучше спланировать свои действия. Это также поможет вам понять бизнес-процессы, которые иногда скрыты или явно не объяснены вашими заинтересованными сторонами.

Хотя моделирование данных может показаться дополнительным шагом в цикле планирования разработки, оно может значительно ускорить циклы разработки.

### Каковы (три) различных типа моделей данных?
Когда вы начнете моделировать свои данные, вы, вероятно, пройдете различные этапы анализа данных. На каждом шаге могут создаваться разные типы моделей данных. Таким образом, модели данных обычно можно рассматривать как один из трех следующих типов.
* Концептуальная модель данных : концептуальная модель данных объясняет, что система должна содержать в отношении данных и как они связаны. Эта модель обычно строится с помощью заинтересованных сторон. Он представляет бизнес-логику приложения и часто используется в качестве основы для одной или нескольких следующих моделей.
* Логическая модель данных . Логическая модель данных описывает, как данные будут структурированы. В этой модели отношения между сущностями устанавливаются на высоком уровне. Вы также перечислите атрибуты объектов, представленных в модели.
* Физическая модель данных . Физическая модель данных представляет собой то, как данные будут храниться в конкретной системе управления базами данных (СУБД). С помощью этой модели вы должны установить свои первичные и вторичные ключи в реляционной базе данных или решить, следует ли [встраивать](https://www.mongodb.com/basics/embedded-mongodb) или связывать ваши данные в базе данных документов, такой как MongoDB. Вы также установите типы данных для каждого из ваших полей. Это предоставит вам схему вашей базы данных.

Эти модели создаются с использованием диаграмм сущность-связь (ERD). Пример этих трех моделей можно найти в разделе [Что такое пример модели данных?](https://www.mongodb.com/basics/data-modeling#what-is-an-example-of-a-data-model) ниже.

### Что представляет собой процесс моделирования данных?
Моделирование данных можно рассматривать как серию шагов, каждый из которых предоставляет вам одну из моделей, описанных выше.

##### Соберите требования
Первым шагом в процессе моделирования данных является сбор всех требований для вашего приложения. Этот шаг предоставит вам базовую структуру данных, которую вам нужно будет просмотреть. Анализируйте не только объекты данных, но также размер данных и операции, которые будут выполняться с этими данными. Этот шаг будет выполнен с помощью экспертов в предметной области. В конце этого первого шага у вас должна быть необходимая информация для разработки вашей концептуальной модели данных.

##### Понимание отношений между сущностями
Следующий шаг — понять взаимосвязь между различными сущностями, составляющими всю вашу модель данных. Попробуйте подумать о том, как будут связаны объекты (один к одному, один ко многим или многие ко многим) и какие атрибуты вы будете использовать для описания этих объектов. Этот шаг предоставит вам вашу логическую модель данных.

##### Определите структуру данных
Наконец, вы можете начать думать о фактических данных, которые вы будете хранить в базе данных. На этом этапе вы попытаетесь определить уникальные ключи и типы полей. То, как вы моделируете свои данные, будет сильно зависеть от типа используемой СУБД. Если вы используете реляционную базу данных, вы можете начать думать о нормализации своих данных, в то время как вы думаете о встраивании связанной информации в базу данных документов.

В конце этого шага вы можете создать физическую модель данных, представляющую вашу исходную базу данных.

### Применение шаблонов проектирования
Шаблоны делают моделирование данных более эффективным и действенным. Благодаря шаблонам проектирования легче адаптироваться к изменениям в требованиях и структуре приложения. Вот некоторые общие шаблоны:
* `The schema versioning pattern.` - Шаблон управления версиями схемы.
* The bucket pattern. - **?**
* The computed pattern. - **?**
* The tree pattern. Шаблон дерева.

Посмотрите [вводное видео о моделировании данных на YouTube](https://www.youtube.com/watch?v=3GHZd0zv170) , чтобы узнать больше о шаблонах моделирования данных.